(function(){"use strict";var e={555:function(e,l,t){var o=t(9242),a=t(3396),n=t(4870),d=(0,a.aZ)({setup(e){const l=(0,n.qj)({}),t=(0,n.qj)({labelWidth:100,labelPosition:"right"}),o=(0,n.iH)([]);return(e,d)=>{const u=(0,a.up)("form-design");return(0,a.wg)(),(0,a.j4)(u,{formModel:(0,n.SU)(l),formConfig:(0,n.SU)(t),usedRenderData:o.value},null,8,["formModel","formConfig","usedRenderData"])}}});const u=d;var i=u,m=t(4129);t(4415);const r={class:"form-side"};function p(e,l,t,o,n,d){const u=(0,a.up)("label-item"),i=(0,a.up)("draggable"),m=(0,a.up)("el-collapse-item"),p=(0,a.up)("el-collapse");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",null,[(0,a.Wm)(p,{modelValue:e.activeNames,"onUpdate:modelValue":l[2]||(l[2]=l=>e.activeNames=l)},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{title:"容器",name:"container"},{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(i,{class:"label-list","item-key":"id",modelValue:e.containerComponents,"onUpdate:modelValue":l[0]||(l[0]=l=>e.containerComponents=l),group:{name:"content",pull:"clone"},clone:e.cloneData},{item:(0,a.w5)((({element:e})=>[(0,a.Wm)(u,{label:e.name,icon:e.icon},null,8,["label","icon"])])),_:1},8,["modelValue","clone"])])])),_:1}),(0,a.Wm)(m,{title:"基本组件",name:"basic"},{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a.Wm)(i,{class:"label-list","item-key":"id",modelValue:e.basicComponents,"onUpdate:modelValue":l[1]||(l[1]=l=>e.basicComponents=l),group:{name:"content",pull:"clone",put:!1},clone:e.cloneData},{item:(0,a.w5)((({element:e})=>[(0,a.Wm)(u,{label:e.name,icon:e.icon},null,8,["label","icon"])])),_:1},8,["modelValue","clone"])])])),_:1})])),_:1},8,["modelValue"])])])}var s=t(7139);const c={class:"label-item"};function f(e,l,t,o,n,d){const u=(0,a.up)("el-icon");return(0,a.wg)(),(0,a.iD)("span",c,[(0,a._)("span",null,[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.j4)((0,a.LL)(e.icon)))])),_:1}),(0,a.Uk)(" "+(0,s.zw)(e.label),1)])])}var b=t(1659),v=t(9977),g=t(4876),W=t(8765),y=t(1565),h=t(8249),V=t(400),O=t(6583),w=t(1752),D=t(6266),C=t(6449),k=t(3491),U=t(8220),z=t(4302),S=t(3573),j=(0,a.aZ)({name:"label-item",components:{Grid:b.Z,Tools:v.Z,Edit:g.Z,Check:W.Z,Select:y.Z,EditPen:h.Z,Checked:V.Z,TurnOff:O.Z,Pointer:w.Z,Timer:D.Z,Clock:C.Z,Operation:k.Z,Picture:U.Z,Link:z.Z,CollectionTag:S.Z},props:{label:{type:String,default:""},icon:{type:String,default:"Grid"}}}),_=t(89);const R=(0,_.Z)(j,[["render",f],["__scopeId","data-v-a54a7696"]]);var P=R;const M=(0,n.iH)([{name:"卡片",type:"Card",id:"asfdsfsd",icon:"Grid",options:{header:"card",shadow:"hover"},list:[]},{name:"两栅",type:"Grid",id:"asfdsfsd",icon:"Grid",options:{},cols:[{type:"Col",id:"jghfgs",options:{span:12},list:[]},{type:"Col",id:"trhvsgf",options:{span:12},list:[]}]},{name:"三栅",type:"Grid",id:"fkghfjgh",icon:"Grid",options:{},cols:[{type:"Col",id:"sdfsdgdfh",options:{span:8},list:[]},{type:"Col",id:"jkiului",options:{span:8},list:[]},{type:"Col",id:"kghjgs",options:{span:8},list:[]}]},{name:"四栅",type:"Grid",id:"hdfvsdgsd",icon:"Grid",options:{},cols:[{type:"Col",id:"sdfsdsdgh",options:{span:6},list:[]},{type:"Col",id:"uyjkdsd",options:{span:6},list:[]},{type:"Col",id:"iojd",options:{span:6},list:[]},{type:"Col",id:"ldsgsd",options:{span:6},list:[]}]}]),Z=(0,n.iH)([{name:"分割线",type:"Divider",id:"fdsfdsgfj",icon:"Tools",options:{title:"Title",direction:"horizontal",borderStyle:"solid",contentPosition:"center"}},{name:"按钮",type:"Button",id:"asdasdas",icon:"Tools",options:{name:"",label:"",type:"default",size:"default",disabled:!1}},{name:"单行输入",type:"Input",id:"dasdas",icon:"Edit",options:{name:"Input",type:"text",label:"Input",size:"default",disabled:!1,required:!1}},{name:"多行输入",type:"Textarea",id:"dgdfhgj",icon:"Edit",options:{name:"Textarea",label:"Textarea",size:"default",disabled:!1,required:!1,resize:"both",autosize:!1,rows:2}},{name:"数字输入",type:"InputNumber",id:"sdgdfgdf",icon:"Edit",options:{name:"InputNumber",label:"InputNumber",size:"default",disabled:!1,required:!1,min:0,max:100,step:1}},{name:"单选下拉",type:"Select",id:"dbfgnfg",icon:"Edit",options:{name:"Select",label:"Select",size:"default",disabled:!1,required:!1,clearable:!0,optionItems:[]}},{name:"多选下拉",type:"SelectMultiple",id:"vsdfsdfsd",icon:"Edit",options:{name:"Select",label:"Multiple",size:"default",disabled:!1,required:!1,clearable:!0,optionItems:[]}},{name:"链接",type:"Link",id:"bfdnjmgh",icon:"Edit",options:{type:"primary",underline:!0,disabled:!1,href:"",text:"link"}},{name:"日期",type:"DatePicker",id:"jvjhxddf",icon:"Timer",options:{name:"DatePicker",label:"Date",size:"default",disabled:!1}},{name:"日期范围",type:"DatePickerRange",id:"sdgdfhfg",icon:"Timer",options:{name:"DatePickerRange",label:"DateRange",size:"default",disabled:!1}}]);t(6699);const x=(0,n.iH)(),T=(0,n.iH)({}),A=(0,n.qj)({});let I=0;const Y=()=>++I+String(Math.floor(1e3*Math.random())),E=["Input","InputNumber","Textarea","Select","SelectMultiple","DatePicker","DatePickerRange"],N=(e,l,t)=>{T.value.id===e&&(T.value={});const o=J(e,l),[a,n]=o;if(a.length>0&&n>-1){const e=a[n];q(e,t),a.splice(n,1)}else console.warn("not")},q=(e,l)=>{const t=e=>{if(E.includes(e.type)){const t=e.options.name;t&&delete l[t]}else"Card"===e.type?e.list.forEach((e=>{t(e)})):"Grid"===e.type?e.cols.forEach((e=>{t(e)})):"Col"===e.type&&e.list.forEach((e=>{t(e)}))};t(e)},H=(e,l)=>{const t=J(e,l),[o,a]=t;if(o.length>0&&a>-1){const e=o[a];let l=null;switch(e.type){case"Grid":l=G(e);break;case"Col":l=L(e);break}l&&o.splice(a+1,0,l)}else console.warn("not")},G=e=>(e=JSON.parse(JSON.stringify(e)),e.id=Y(),e.cols.forEach((e=>{e.id=Y(),e.list=[]})),e),L=e=>(e=JSON.parse(JSON.stringify(e)),e.id=Y(),e.list=[],e),J=(e,l)=>{let t=[];const o=l=>{const a=l.findIndex((l=>l.id===e));if(a>-1)t=[l,a];else for(let e=0;e<l.length;e++){const t=l[e];"Card"!==t.type?"Grid"!==t.type?"Col"!==t.type||o(t.list):o(t.cols):o(t.list)}};return o(l),t};function B(e){for(let l in e)console.log(l),delete e[l]}var F=(0,a.aZ)({name:"design-side",components:{LabelItem:P},setup(e){const l=e=>{const l=Y();return e={...JSON.parse(JSON.stringify(e)),id:l},"Grid"!==e.type&&e.options&&(e.options.name+=l),"Grid"===e.type&&e.cols.forEach((e=>{e.id=Y()})),e},t=(0,n.iH)(["container","basic"]);return{basicComponents:Z,containerComponents:M,cloneData:l,activeNames:t}}});const K=(0,_.Z)(F,[["render",p]]);var $=K;const X={class:"design-content"},Q=(0,a.Uk)("清空"),ee=(0,a.Uk)("预览"),le=(0,a.Uk)("表单数据"),te=(0,a.Uk)(" 模板配置数据 "),oe=(0,a.Uk)(" 其它测试数据 "),ae={class:"design-content-body"},ne={key:0,class:"no-data-tip"},de={key:0,style:{height:"500px","overflow-y":"auto",padding:"10px 5px",border:"2px dashed #e2e2e2","border-radius":"3px"}};function ue(e,l,t,o,n,d){const u=(0,a.up)("el-button"),i=(0,a.up)("el-button-group"),m=(0,a.up)("form-current"),r=(0,a.up)("code-editor"),p=(0,a.up)("el-dialog"),c=(0,a.up)("render-form");return(0,a.wg)(),(0,a.iD)("div",X,[(0,a._)("header",null,[(0,a.Wm)(i,{class:"ml-4"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{type:"primary",onClick:e.emptyAll},{default:(0,a.w5)((()=>[Q])),_:1},8,["onClick"]),(0,a.Wm)(u,{type:"primary",onClick:e.onPreview},{default:(0,a.w5)((()=>[ee])),_:1},8,["onClick"]),(0,a.Wm)(u,{type:"primary",onClick:e.getData},{default:(0,a.w5)((()=>[le])),_:1},8,["onClick"]),(0,a.Wm)(u,{type:"primary",onClick:e.getTemplateData},{default:(0,a.w5)((()=>[te])),_:1},8,["onClick"]),(0,a.Wm)(u,{type:"primary",onClick:e.getOtherData},{default:(0,a.w5)((()=>[oe])),_:1},8,["onClick"])])),_:1})]),(0,a._)("section",null,[(0,a._)("div",ae,[e.usedRenderData.length?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",ne," 请从左侧列表中选择一个组件 然后用鼠标拖动组件放置于此处 ")),(0,a.Wm)(m,{model:e.formModel,rules:e.formRules,formConfig:e.formConfig,usedRenderData:e.usedRenderData,onActived:e.onActived,onCopy:e.onCopy,onDelete:e.onDelete},null,8,["model","rules","formConfig","usedRenderData","onActived","onCopy","onDelete"])])]),(0,a.Wm)(p,{modelValue:e.dataDisplayVisible,"onUpdate:modelValue":l[1]||(l[1]=l=>e.dataDisplayVisible=l),title:"数据展示"},{default:(0,a.w5)((()=>[e.dataDisplayVisible?((0,a.wg)(),(0,a.j4)(r,{key:0,mode:"json",readonly:!1,modelValue:e.blockData,"onUpdate:modelValue":l[0]||(l[0]=l=>e.blockData=l)},null,8,["modelValue"])):(0,a.kq)("",!0)])),_:1},8,["modelValue"]),(0,a.Wm)(p,{modelValue:e.previewDialogVisible,"onUpdate:modelValue":l[2]||(l[2]=l=>e.previewDialogVisible=l),title:"Preview",width:"1000px"},{default:(0,a.w5)((()=>[e.previewDialogVisible?((0,a.wg)(),(0,a.iD)("div",de,[(0,a.Wm)(c,{usedRenderData:e.usedRenderData,formRules:e.formRules,formModel:e.formModel,formConfig:e.formConfig},null,8,["usedRenderData","formRules","formModel","formConfig"])])):(0,a.kq)("",!0)])),_:1},8,["modelValue"]),(0,a.Wm)(p,{modelValue:e.otherDataVisible,"onUpdate:modelValue":l[3]||(l[3]=l=>e.otherDataVisible=l),title:"开发调试数据",width:"800px"},{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a._)("div",null,(0,s.zw)(JSON.stringify(e.formModel)),1),(0,a._)("div",null,(0,s.zw)(JSON.stringify(e.formRules)),1)])])),_:1},8,["modelValue"])])}var ie=(0,a.aZ)({name:"design-content",props:{formModel:{type:Object,default:()=>({})},formConfig:{type:Object,default:()=>({})},usedRenderData:{type:Array,default:()=>(0,n.iH)([]).value}},setup(e){const l=(0,n.iH)(!1),t=(0,n.iH)(JSON.stringify({})),o=()=>{e.usedRenderData.length=0,T.value={},B(e.formModel),B(A)},a=()=>{l.value=!0,t.value=JSON.stringify(e.formModel,null,"  ")},d=()=>{l.value=!0,t.value=JSON.stringify(e.usedRenderData,null,"  ")},u=(0,n.iH)(!1),i=()=>{u.value=!0},m=(0,n.iH)(!1),r=()=>{m.value=!0},p=e=>{console.log("actived",e),T.value=e},s=l=>{console.log("copy",l),H(l,e.usedRenderData)},c=l=>{console.log("delete",l),N(l,e.usedRenderData,e.formModel)};return{onCopy:s,onDelete:c,onActived:p,emptyAll:o,formRules:A,dataDisplayVisible:l,blockData:t,getData:a,getTemplateData:d,previewDialogVisible:u,onPreview:i,otherDataVisible:m,getOtherData:r}}});const me=(0,_.Z)(ie,[["render",ue]]);var re=me;const pe={class:"design-setting"},se={class:"design-setting-content"};function ce(e,l,t,o,n,d){const u=(0,a.up)("render-item-setting"),i=(0,a.up)("el-tab-pane"),m=(0,a.up)("render-form-setting"),r=(0,a.up)("el-tabs");return(0,a.wg)(),(0,a.iD)("aside",pe,[(0,a._)("div",se,[(0,a.Wm)(r,{modelValue:e.activeName,"onUpdate:modelValue":l[0]||(l[0]=l=>e.activeName=l)},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{label:"组件属性",name:"fieldAttribute"},{default:(0,a.w5)((()=>[(0,a.Wm)(u)])),_:1}),(0,a.Wm)(i,{label:"表单属性",name:"formAttribute"},{default:(0,a.w5)((()=>[(0,a.Wm)(m)])),_:1})])),_:1},8,["modelValue"])])])}var fe=(0,a.aZ)({props:{modelOptions:{type:Object,default:()=>({})}},setup(e){return()=>{const{modelOptions:l}=e;return(0,a.Wm)(a.HY,null,[(0,a.Wm)((0,a.up)("el-form-item"),{label:"按钮类型"},{default:()=>[(0,a.Wm)((0,a.up)("el-select"),{modelValue:l.type,"onUpdate:modelValue":e=>l.type=e,placeholder:"Select"},{default:()=>[(0,a.Wm)((0,a.up)("el-option"),{label:"default",value:"default"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"primary",value:"primary"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"success",value:"success"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"info",value:"info"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"danger",value:"danger"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"warning",value:"warning"},null)]})]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"禁用"},{default:()=>[(0,a.Wm)((0,a.up)("el-switch"),{modelValue:l.disabled,"onUpdate:modelValue":e=>l.disabled=e},null)]})])}}});const be=Symbol();var ve=t(2807),ge=(0,a.aZ)({props:{modelOptions:{type:Object,default:()=>({})}},setup(e){const l=(0,n.iH)(e.modelOptions.name),t=(0,a.f3)(be),o=t.formModel;(0,a.YP)((()=>e.modelOptions),(()=>{l.value=e.modelOptions.name}),{immediate:!0});const d=()=>{if(!l.value)return l.value=e.modelOptions.name,void ve.z8.warning("不能为空");if(l.value!==e.modelOptions.name){const t=Object.getOwnPropertyNames(o);t.includes(l.value)?(l.value=e.modelOptions.name,ve.z8.warning("唯一名称不能重复")):(console.log(e.modelOptions.name,l.value),o[l.value]=o[e.modelOptions.name],delete o[e.modelOptions.name],console.log(o),e.modelOptions.name=l.value)}},u=l=>{l?A[e.modelOptions.name]={required:!0,trigger:"change"}:delete A[e.modelOptions.name],(0,a.Y3)((()=>{console.log(x.value),x.value.clearValidate()}))};return()=>{const{modelOptions:t}=e;return(0,a.Wm)(a.HY,null,[(0,a.Wm)((0,a.up)("el-form-item"),{label:"唯一名称",prop:"name"},{default:()=>[(0,a.Wm)((0,a.up)("el-input"),{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,onChange:d,disabled:!0},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"标签"},{default:()=>[(0,a.Wm)((0,a.up)("el-input"),{modelValue:t.label,"onUpdate:modelValue":e=>t.label=e},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"显示类型"},{default:()=>[(0,a.Wm)((0,a.up)("el-select"),{modelValue:t.type,"onUpdate:modelValue":e=>t.type=e,placeholder:"Select"},{default:()=>[(0,a.Wm)((0,a.up)("el-option"),{label:"text",value:"text"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"password",value:"password"},null)]})]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"禁用"},{default:()=>[(0,a.Wm)((0,a.up)("el-switch"),{modelValue:t.disabled,"onUpdate:modelValue":e=>t.disabled=e},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"是否必填"},{default:()=>[(0,a.Wm)((0,a.up)("el-switch"),{modelValue:t.required,"onUpdate:modelValue":e=>t.required=e,onChange:u},null)]})])}}}),We=(0,a.aZ)({props:{modelOptions:{type:Object,default:()=>({span:12})}},setup(e){return()=>{const{modelOptions:l}=e;return(0,a.Wm)(a.HY,null,[(0,a.Wm)((0,a.up)("el-form-item"),{label:"栅格宽度",prop:"name"},{default:()=>[(0,a.Wm)((0,a.up)("el-input-number"),{modelValue:l.span,"onUpdate:modelValue":e=>l.span=e,min:1,max:24},null)]})])}}}),ye=(0,a.aZ)({props:{modelOptions:{type:Object,default:()=>({})}},setup(e){return()=>{const{modelOptions:l}=e;return(0,a.Wm)(a.HY,null,[(0,a.Wm)((0,a.up)("el-form-item"),{label:"标题"},{default:()=>[(0,a.Wm)((0,a.up)("el-input"),{modelValue:l.title,"onUpdate:modelValue":e=>l.title=e},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"分隔线"},{default:()=>[(0,a.Wm)((0,a.up)("el-select"),{modelValue:l.borderStyle,"onUpdate:modelValue":e=>l.borderStyle=e,placeholder:"Select"},{default:()=>[(0,a.Wm)((0,a.up)("el-option"),{label:"solid",value:"solid"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"dashed",value:"dashed"},null)]})]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"内容位置"},{default:()=>[(0,a.Wm)((0,a.up)("el-select"),{modelValue:l.contentPosition,"onUpdate:modelValue":e=>l.contentPosition=e,placeholder:"Select"},{default:()=>[(0,a.Wm)((0,a.up)("el-option"),{label:"left",value:"left"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"center",value:"center"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"right",value:"right"},null)]})]})])}}}),he=(0,a.aZ)({props:{modelOptions:{type:Object,default:()=>({})}},setup(e){const l=(0,n.iH)(e.modelOptions.name),t=(0,a.f3)(be),o=t.formModel;(0,a.YP)((()=>e.modelOptions),(()=>{l.value=e.modelOptions.name}),{immediate:!0});const d=()=>{if(!l.value)return l.value=e.modelOptions.name,void ve.z8.warning("不能为空");if(l.value!==e.modelOptions.name){const t=Object.getOwnPropertyNames(o);t.includes(l.value)?(l.value=e.modelOptions.name,ve.z8.warning("唯一名称不能重复")):(o[l.value]=o[e.modelOptions.name],delete o[e.modelOptions.name],e.modelOptions.name=l.value)}},u=l=>{console.log(l),l?A[e.modelOptions.name]={required:!0,trigger:"change"}:delete A[e.modelOptions.name],(0,a.Y3)((()=>{console.log(x.value),x.value.clearValidate()}))};return()=>{const{modelOptions:t}=e;return(0,a.Wm)(a.HY,null,[(0,a.Wm)((0,a.up)("el-form-item"),{label:"唯一名称",prop:"name"},{default:()=>[(0,a.Wm)((0,a.up)("el-input"),{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,onChange:d,disabled:!0},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"标签"},{default:()=>[(0,a.Wm)((0,a.up)("el-input"),{modelValue:t.label,"onUpdate:modelValue":e=>t.label=e},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"可缩放"},{default:()=>[(0,a.Wm)((0,a.up)("el-select"),{modelValue:t.resize,"onUpdate:modelValue":e=>t.resize=e,placeholder:"Select"},{default:()=>[(0,a.Wm)((0,a.up)("el-option"),{label:"none",value:"none"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"both",value:"both"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"horizontal",value:"horizontal"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"vertical",value:"vertical"},null)]})]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"禁用"},{default:()=>[(0,a.Wm)((0,a.up)("el-switch"),{modelValue:t.disabled,"onUpdate:modelValue":e=>t.disabled=e},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"是否必填"},{default:()=>[(0,a.Wm)((0,a.up)("el-switch"),{modelValue:t.required,"onUpdate:modelValue":e=>t.required=e,onChange:u},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"高度自适应"},{default:()=>[(0,a.Wm)((0,a.up)("el-switch"),{modelValue:t.autosize,"onUpdate:modelValue":e=>t.autosize=e},null)]})])}}}),Ve=(0,a.aZ)({props:{modelOptions:{type:Object,default:()=>({})}},setup(e){const l=(0,n.iH)(e.modelOptions.name),t=(0,a.f3)(be),o=t.formModel;(0,a.YP)((()=>e.modelOptions),(()=>{l.value=e.modelOptions.name}),{immediate:!0});const d=()=>{if(!l.value)return l.value=e.modelOptions.name,void ve.z8.warning("不能为空");if(l.value!==e.modelOptions.name){const t=Object.getOwnPropertyNames(o);t.includes(l.value)?(l.value=e.modelOptions.name,ve.z8.warning("唯一名称不能重复")):(o[l.value]=o[e.modelOptions.name],delete o[e.modelOptions.name],e.modelOptions.name=l.value)}},u=l=>{console.log(l),l?A[e.modelOptions.name]={required:!0,trigger:"change"}:delete A[e.modelOptions.name],(0,a.Y3)((()=>{console.log(x.value),x.value.clearValidate()}))};return()=>{const{modelOptions:t}=e;return(0,a.Wm)(a.HY,null,[(0,a.Wm)((0,a.up)("el-form-item"),{label:"唯一名称",prop:"name"},{default:()=>[(0,a.Wm)((0,a.up)("el-input"),{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,onChange:d,disabled:!0},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"标签"},{default:()=>[(0,a.Wm)((0,a.up)("el-input"),{modelValue:t.label,"onUpdate:modelValue":e=>t.label=e},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"最大值"},{default:()=>[(0,a.Wm)((0,a.up)("el-input-number"),{modelValue:t.max,"onUpdate:modelValue":e=>t.max=e},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"最小值"},{default:()=>[(0,a.Wm)((0,a.up)("el-input-number"),{modelValue:t.min,"onUpdate:modelValue":e=>t.min=e},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"步长"},{default:()=>[(0,a.Wm)((0,a.up)("el-input-number"),{modelValue:t.step,"onUpdate:modelValue":e=>t.step=e},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"禁用"},{default:()=>[(0,a.Wm)((0,a.up)("el-switch"),{modelValue:t.disabled,"onUpdate:modelValue":e=>t.disabled=e},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"是否必填"},{default:()=>[(0,a.Wm)((0,a.up)("el-switch"),{modelValue:t.required,"onUpdate:modelValue":e=>t.required=e,onChange:u},null)]})])}}});const Oe={class:"render-select-option"},we={key:1,class:"render-select-option-list"},De=(0,a.Uk)("添加"),Ce={class:"render-select-option-list"},ke=(0,a.Uk)(" 导入 ");function Ue(e,l,t,o,n,d){const u=(0,a.up)("el-empty"),i=(0,a.up)("el-input"),m=(0,a.up)("el-col"),r=(0,a.up)("Delete"),p=(0,a.up)("el-icon"),s=(0,a.up)("el-row"),c=(0,a.up)("el-button");return(0,a.wg)(),(0,a.iD)("div",Oe,[(0,a._)("div",null,[e.currentOptions.length?((0,a.wg)(),(0,a.iD)("div",we,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.currentOptions,((l,t)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(s,{gutter:10},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{span:8},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{size:"small",placeholder:"label",modelValue:l.label,"onUpdate:modelValue":e=>l.label=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(m,{span:8},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{size:"small",placeholder:"value",modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(m,{span:8},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{onClick:l=>e.onDeleteCurrent(t)},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{color:"#f00"})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])))),256))])):((0,a.wg)(),(0,a.j4)(u,{key:0,"image-size":20}))]),(0,a.Wm)(c,{type:"primary",size:"small",text:"",onClick:e.onAdd},{default:(0,a.w5)((()=>[De])),_:1},8,["onClick"]),(0,a._)("div",Ce,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.options,((l,t)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(s,{gutter:10},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{span:8},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{size:"small",placeholder:"label",modelValue:l.label,"onUpdate:modelValue":e=>l.label=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(m,{span:8},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{size:"small",placeholder:"value",modelValue:l.value,"onUpdate:modelValue":e=>l.value=e},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(0,a.Wm)(m,{span:8},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{type:"primary",size:"small",text:"",onClick:t=>e.onImported(l)},{default:(0,a.w5)((()=>[ke])),_:2},1032,["onClick"]),(0,a.Wm)(p,{onClick:l=>e.onDelete(t)},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{color:"#f00"})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])))),256))])])}var ze=t(547);var Se=(0,a.aZ)({name:"render-select-option",components:{Delete:ze.Z},props:{currentOptions:{type:Array,default:()=>[]}},setup(e){const l=(0,n.qj)([{label:"选项1",value:"select1"}]),t=l=>{e.currentOptions.splice(l,1)},o=()=>{l.push({label:"",value:""})},a=l=>{if(!l.label||!l.value)return void ve.z8.error("label或value不能为空");const t=e.currentOptions,o=t.findIndex((e=>e.label===l.label||e.value===l.value));o>-1?ve.z8.error("label或value不能重复"):t.push({...l})},d=e=>{l.splice(e,1)};return{onDeleteCurrent:t,options:l,onAdd:o,onImported:a,onDelete:d}}});const je=(0,_.Z)(Se,[["render",Ue]]);var _e=je,Re=(0,a.aZ)({props:{modelOptions:{type:Object,default:()=>({})}},setup(e){const l=(0,n.iH)(e.modelOptions.name),t=(0,a.f3)(be),o=t.formModel;(0,a.YP)((()=>e.modelOptions),(()=>{l.value=e.modelOptions.name}),{immediate:!0});const d=()=>{if(!l.value)return l.value=e.modelOptions.name,void ve.z8.warning("不能为空");if(l.value!==e.modelOptions.name){const t=Object.getOwnPropertyNames(o);t.includes(l.value)?(l.value=e.modelOptions.name,ve.z8.warning("唯一名称不能重复")):(o[l.value]=o[e.modelOptions.name],delete o[e.modelOptions.name],e.modelOptions.name=l.value)}},u=l=>{console.log(l),l?A[e.modelOptions.name]={required:!0,trigger:"change"}:delete A[e.modelOptions.name],(0,a.Y3)((()=>{console.log(x.value),x.value.clearValidate()}))};return()=>{const{modelOptions:t}=e;return(0,a.Wm)(a.HY,null,[(0,a.Wm)((0,a.up)("el-form-item"),{label:"唯一名称",prop:"name"},{default:()=>[(0,a.Wm)((0,a.up)("el-input"),{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,onChange:d,disabled:!0},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"标签"},{default:()=>[(0,a.Wm)((0,a.up)("el-input"),{modelValue:t.label,"onUpdate:modelValue":e=>t.label=e},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"禁用"},{default:()=>[(0,a.Wm)((0,a.up)("el-switch"),{modelValue:t.disabled,"onUpdate:modelValue":e=>t.disabled=e},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"是否必填"},{default:()=>[(0,a.Wm)((0,a.up)("el-switch"),{modelValue:t.required,"onUpdate:modelValue":e=>t.required=e,onChange:u},null)]}),(0,a.Wm)((0,a.up)("el-divider"),{"content-position":"center"},{default:()=>[(0,a.Uk)("选项设置")]}),(0,a.Wm)(_e,{currentOptions:t.optionItems},null)])}}}),Pe=(0,a.aZ)({props:{modelOptions:{type:Object,default:()=>({})}},setup(e){return()=>{const{modelOptions:l}=e;return(0,a.Wm)(a.HY,null,[(0,a.Wm)((0,a.up)("el-form-item"),{label:"header"},{default:()=>[(0,a.Wm)((0,a.up)("el-input"),{modelValue:l.header,"onUpdate:modelValue":e=>l.header=e},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"shadow"},{default:()=>[(0,a.Wm)((0,a.up)("el-select"),{modelValue:l.shadow,"onUpdate:modelValue":e=>l.shadow=e,placeholder:"Select"},{default:()=>[(0,a.Wm)((0,a.up)("el-option"),{label:"never",value:"never"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"hover",value:"hover"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"always",value:"always"},null)]})]})])}}}),Me=(0,a.aZ)({props:{modelOptions:{type:Object,default:()=>({})}},setup(e){return()=>{const{modelOptions:l}=e;return(0,a.Wm)(a.HY,null,[(0,a.Wm)((0,a.up)("el-form-item"),{label:"类型"},{default:()=>[(0,a.Wm)((0,a.up)("el-select"),{modelValue:l.type,"onUpdate:modelValue":e=>l.type=e,placeholder:"Select"},{default:()=>[(0,a.Wm)((0,a.up)("el-option"),{label:"default",value:"default"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"primary",value:"primary"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"success",value:"success"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"warning",value:"warning"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"danger",value:"danger"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"info",value:"info"},null)]})]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"text"},{default:()=>[(0,a.Wm)((0,a.up)("el-input"),{modelValue:l.text,"onUpdate:modelValue":e=>l.text=e},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"href"},{default:()=>[(0,a.Wm)((0,a.up)("el-input"),{modelValue:l.href,"onUpdate:modelValue":e=>l.href=e},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"是否必填"},{default:()=>[(0,a.Wm)((0,a.up)("el-switch"),{modelValue:l.underline,"onUpdate:modelValue":e=>l.underline=e},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"禁用"},{default:()=>[(0,a.Wm)((0,a.up)("el-switch"),{modelValue:l.disabled,"onUpdate:modelValue":e=>l.disabled=e},null)]})])}}}),Ze=(0,a.aZ)({props:{modelOptions:{type:Object,default:()=>({})}},setup(e){const l=(0,n.iH)(e.modelOptions.name),t=(0,a.f3)(be),o=t.formModel;(0,a.YP)((()=>e.modelOptions),(()=>{l.value=e.modelOptions.name}),{immediate:!0});const d=()=>{if(!l.value)return l.value=e.modelOptions.name,void ve.z8.warning("不能为空");if(l.value!==e.modelOptions.name){const t=Object.getOwnPropertyNames(o);t.includes(l.value)?(l.value=e.modelOptions.name,ve.z8.warning("唯一名称不能重复")):(console.log(e.modelOptions.name,l.value),o[l.value]=o[e.modelOptions.name],delete o[e.modelOptions.name],console.log(o),e.modelOptions.name=l.value)}},u=l=>{l?A[e.modelOptions.name]={required:!0,trigger:"change"}:delete A[e.modelOptions.name],(0,a.Y3)((()=>{console.log(x.value),x.value.clearValidate()}))};return()=>{const{modelOptions:t}=e;return(0,a.Wm)(a.HY,null,[(0,a.Wm)((0,a.up)("el-form-item"),{label:"唯一名称",prop:"name"},{default:()=>[(0,a.Wm)((0,a.up)("el-input"),{modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,onChange:d,disabled:!0},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"标签"},{default:()=>[(0,a.Wm)((0,a.up)("el-input"),{modelValue:t.label,"onUpdate:modelValue":e=>t.label=e},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"显示类型"},{default:()=>[(0,a.Wm)((0,a.up)("el-select"),{modelValue:t.type,"onUpdate:modelValue":e=>t.type=e,placeholder:"Select"},{default:()=>[(0,a.Wm)((0,a.up)("el-option"),{label:"text",value:"text"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"password",value:"password"},null)]})]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"禁用"},{default:()=>[(0,a.Wm)((0,a.up)("el-switch"),{modelValue:t.disabled,"onUpdate:modelValue":e=>t.disabled=e},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"是否必填"},{default:()=>[(0,a.Wm)((0,a.up)("el-switch"),{modelValue:t.required,"onUpdate:modelValue":e=>t.required=e,onChange:u},null)]})])}}});function xe(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,a.lA)(e)}var Te=(0,a.aZ)({name:"render-item-setting",setup(){const e=(0,n.iH)(["basic","complex"]);return()=>{let l;const{type:t,options:o}=T.value;return o?(0,a.Wm)((0,a.up)("el-collapse"),{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l},{default:()=>[(0,a.Wm)((0,a.up)("el-collapse-item"),{title:"基本属性",name:"basic"},{default:()=>[(0,a.Wm)((0,a.up)("el-form"),{"label-width":"90px"},xe(l=Ae(t,o))?l:{default:()=>[l]})]})]}):(0,a.Wm)((0,a.up)("el-empty"),{"image-size":100},null)}}});function Ae(e,l){switch(e=e.toUpperCase(),e){case"BUTTON":return(0,a.Wm)(fe,{modelOptions:l},null);case"INPUT":return(0,a.Wm)(ge,{modelOptions:l},null);case"DIVIDER":return(0,a.Wm)(ye,{modelOptions:l},null);case"TEXTAREA":return(0,a.Wm)(he,{modelOptions:l},null);case"INPUTNUMBER":return(0,a.Wm)(Ve,{modelOptions:l},null);case"SELECT":return(0,a.Wm)(Re,{modelOptions:l},null);case"SELECTMULTIPLE":return(0,a.Wm)(Re,{modelOptions:l},null);case"DATEPICKER":return(0,a.Wm)(Ze,{modelOptions:l},null);case"DATEPICKERRANGE":return(0,a.Wm)(Ze,{modelOptions:l},null);case"LINK":return(0,a.Wm)(Me,{modelOptions:l},null);case"COL":return(0,a.Wm)(We,{modelOptions:l},null);case"CARD":return(0,a.Wm)(Pe,{modelOptions:l},null)}}var Ie=(0,a.aZ)({name:"render-form-setting",setup(){const e=(0,a.f3)(be),l=e.formConfig;return()=>(0,a.Wm)((0,a.up)("el-form"),null,{default:()=>[(0,a.Wm)((0,a.up)("el-form-item"),{label:"标签宽度"},{default:()=>[(0,a.Wm)((0,a.up)("el-input-number"),{min:50,modelValue:l.labelWidth,"onUpdate:modelValue":e=>l.labelWidth=e},null)]}),(0,a.Wm)((0,a.up)("el-form-item"),{label:"标签位置"},{default:()=>[(0,a.Wm)((0,a.up)("el-select"),{modelValue:l.labelPosition,"onUpdate:modelValue":e=>l.labelPosition=e,placeholder:"Select"},{default:()=>[(0,a.Wm)((0,a.up)("el-option"),{label:"left",value:"left"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"right",value:"right"},null),(0,a.Wm)((0,a.up)("el-option"),{label:"top",value:"top"},null)]})]})]})}}),Ye=(0,a.aZ)({name:"design-setting",components:{renderItemSetting:Te,renderFormSetting:Ie},setup(){const e=(0,n.iH)("fieldAttribute");return{activeName:e}}});const Ee=(0,_.Z)(Ye,[["render",ce],["__scopeId","data-v-5e7f8af8"]]);var Ne=Ee;const qe={class:"draggable-nested-item"};function He(e,l,t,o,n,d){const u=(0,a.up)("render-component"),i=(0,a.up)("draggable");return(0,a.wg)(),(0,a.j4)(i,{class:"draggable-nested-list",tag:"ul","item-key":"id",animation:"300",list:e.tasks,group:"content"},{item:(0,a.w5)((({element:l})=>[(0,a._)("li",qe,[(0,a.Wm)(u,{config:l,onActived:e.onActived,onCopy:e.onCopy,onDelete:e.onDelete},null,8,["config","onActived","onCopy","onDelete"])])])),_:1},8,["list"])}const Ge={key:0,class:"container-tool-block"},Le={key:1,class:"operation-toolbar"};function Je(e,l,t,n,d,u){const i=(0,a.up)("DocumentCopy"),m=(0,a.up)("el-icon"),r=(0,a.up)("Delete");return(0,a.wg)(),(0,a.iD)("div",{class:(0,s.C_)(["container-tool",{selected:e.selected}]),onClick:l[0]||(l[0]=(0,o.iM)(((...l)=>e.onSelected&&e.onSelected(...l)),["stop"]))},[e.selected?((0,a.wg)(),(0,a.iD)("div",Ge,(0,s.zw)(e.contentType),1)):(0,a.kq)("",!0),(0,a.WI)(e.$slots,"default"),e.selected?((0,a.wg)(),(0,a.iD)("div",Le,[["Grid","Col"].includes(e.contentType)?((0,a.wg)(),(0,a.j4)(m,{key:0,onClick:e.onCopy},{default:(0,a.w5)((()=>[(0,a.Wm)(i)])),_:1},8,["onClick"])):(0,a.kq)("",!0),(0,a.Wm)(m,{onClick:(0,o.iM)(e.onDelete,["stop"])},{default:(0,a.w5)((()=>[(0,a.Wm)(r)])),_:1},8,["onClick"])])):(0,a.kq)("",!0)],2)}var Be=t(3454),Fe=(0,a.aZ)({name:"ContainerTool",components:{Delete:ze.Z,DocumentCopy:Be.Z},emits:["selected","delete","copy"],props:{selected:{type:Boolean},contentType:{type:String,default:"sdas"}},setup(e,{emit:l}){const t=()=>{l("selected")},o=()=>{l("delete")},a=()=>{l("copy")};return{onSelected:t,onDelete:o,onCopy:a}}});const Ke=(0,_.Z)(Fe,[["render",Je]]);var $e=Ke;function Xe(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,a.lA)(e)}var Qe=(0,a.aZ)({name:"render-component",emits:["actived","delete","copy"],props:{config:{type:Object,default:()=>({})}},setup(e,{emit:l}){const t=(0,a.f3)(be),o=t.formModel,n=e=>{l("actived",e)},d=e=>{l("delete",e)},u=e=>{l("copy",e)},i=l=>{let t,i,m;const{type:r}=l;switch(r){case"Divider":const p=l.options;return(0,a.Wm)($e,{contentType:r,selected:T.value.id===l.id,onSelected:()=>n(l),onDelete:()=>d(l.id)},{default:()=>[(0,a.Wm)((0,a.up)("el-divider"),{borderStyle:p.borderStyle,contentPosition:p.contentPosition},{default:()=>[p.title]})]});case"Button":const s=l.options;return(0,a.Wm)($e,{contentType:r,selected:T.value.id===l.id,onSelected:()=>n(l),onDelete:()=>d(l.id)},{default:()=>[(0,a.Wm)((0,a.up)("el-button"),{type:s.type,disabled:s.disabled,size:s.size},{default:()=>[(0,a.Uk)("按钮")]})]});case"Input":const c=l.options;return o[c.name]=o[c.name]||"",console.log("更新,Input"),(0,a.Wm)($e,{contentType:r,selected:T.value.id===e.config.id,onSelected:()=>n(l),onDelete:()=>d(l.id)},{default:()=>[(0,a.Wm)((0,a.up)("el-form-item"),{label:c.label,prop:c.name},{default:()=>[(0,a.Wm)((0,a.up)("el-input"),{clearable:!0,type:c.type,size:c.size,disabled:c.disabled,modelValue:o[c.name],"onUpdate:modelValue":e=>o[c.name]=e},null)]})]});case"Textarea":const f=l.options;return o[f.name]=o[f.name]||"",(0,a.Wm)($e,{contentType:r,selected:T.value.id===e.config.id,onSelected:()=>n(l),onDelete:()=>d(l.id)},{default:()=>[(0,a.Wm)((0,a.up)("el-form-item"),{label:f.label,prop:f.name},{default:()=>[(0,a.Wm)((0,a.up)("el-input"),{clearable:!0,type:"textarea",resize:f.resize,autosize:f.autosize,size:f.size,disabled:f.disabled,modelValue:o[f.name],"onUpdate:modelValue":e=>o[f.name]=e},null)]})]});case"InputNumber":const b=l.options;return o[b.name]=o[b.name]||0,(0,a.Wm)($e,{contentType:r,selected:T.value.id===e.config.id,onSelected:()=>n(l),onDelete:()=>d(l.id)},{default:()=>[(0,a.Wm)((0,a.up)("el-form-item"),{label:b.label,prop:b.name},{default:()=>[(0,a.Wm)((0,a.up)("el-input-number"),{size:b.size,disabled:b.disabled,min:b.min,max:b.max,step:b.step,modelValue:o[b.name],"onUpdate:modelValue":e=>o[b.name]=e},null)]})]});case"Select":const v=l.options;return o[v.name]=o[v.name]||"",(0,a.Wm)($e,{contentType:r,selected:T.value.id===e.config.id,onSelected:()=>n(l),onDelete:()=>d(l.id)},{default:()=>[(0,a.Wm)((0,a.up)("el-form-item"),{label:v.label,prop:v.name},{default:()=>[(0,a.Wm)((0,a.up)("el-select"),{type:"textarea",clearable:v.clearable,size:v.size,disabled:v.disabled,modelValue:o[v.name],"onUpdate:modelValue":e=>o[v.name]=e},Xe(t=v.optionItems.map((e=>(0,a.Wm)((0,a.up)("el-option"),{key:e.value,label:e.label,value:e.value},null))))?t:{default:()=>[t]})]})]});case"SelectMultiple":const g=l.options;return o[g.name]=o[g.name]||[],(0,a.Wm)($e,{contentType:r,selected:T.value.id===e.config.id,onSelected:()=>n(l),onDelete:()=>d(l.id)},{default:()=>[(0,a.Wm)((0,a.up)("el-form-item"),{label:g.label,prop:g.name},{default:()=>[(0,a.Wm)((0,a.up)("el-select"),{multiple:!0,clearable:g.clearable,size:g.size,disabled:g.disabled,modelValue:o[g.name],"onUpdate:modelValue":e=>o[g.name]=e},Xe(i=g.optionItems.map((e=>(0,a.Wm)((0,a.up)("el-option"),{key:e.value,label:e.label,value:e.value},null))))?i:{default:()=>[i]})]})]});case"Link":const W=l.options;return(0,a.Wm)($e,{contentType:r,selected:T.value.id===l.id,onSelected:()=>n(l),onDelete:()=>d(l.id)},{default:()=>[(0,a.Wm)((0,a.up)("el-link"),{target:"_blank",type:W.type,underline:W.underline,href:W.href,disabled:W.disabled},{default:()=>[W.text]})]});case"DatePicker":const y=l.options;return o[y.name]=o[y.name]||"",(0,a.Wm)($e,{contentType:r,selected:T.value.id===l.id,onSelected:()=>n(l),onDelete:()=>d(l.id)},{default:()=>[(0,a.Wm)((0,a.up)("el-form-item"),{label:y.label,prop:y.name},{default:()=>[(0,a.Wm)((0,a.up)("el-date-picker"),{type:"date",placeholder:"Pick a Date",format:"YYYY-MM-DD",size:y.size,modelValue:o[y.name],"onUpdate:modelValue":e=>o[y.name]=e},null)]})]});case"DatePickerRange":const h=l.options;return o[h.name]=o[h.name]||[],(0,a.Wm)($e,{contentType:r,selected:T.value.id===l.id,onSelected:()=>n(l),onDelete:()=>d(l.id)},{default:()=>[(0,a.Wm)((0,a.up)("el-form-item"),{label:h.label,prop:h.name},{default:()=>[(0,a.Wm)((0,a.up)("el-date-picker"),{type:"daterange",placeholder:"Pick a Date",format:"YYYY-MM-DD",size:h.size,modelValue:o[h.name],"onUpdate:modelValue":e=>o[h.name]=e},null)]})]});case"Card":const V=l.options;return(0,a.Wm)($e,{contentType:l.type,selected:T.value.id===l.id,onSelected:()=>n(l),onDelete:()=>d(l.id),onCopy:()=>u(l.id)},{default:()=>[(0,a.Wm)((0,a.up)("el-card"),{header:V.header,shadow:V.shadow},{default:()=>[(0,a.Wm)((0,a.up)("nested-draggable"),{tasks:l.list,onActived:n,onCopy:u,onDelete:d},null)]})]});case"Grid":return(0,a.Wm)(a.HY,null,[(0,a.Wm)($e,{contentType:l.type,selected:T.value.id===l.id,onSelected:()=>n(l),onDelete:()=>d(l.id),onCopy:()=>u(l.id)},{default:()=>[(0,a.Wm)((0,a.up)("el-row"),null,Xe(m=l.cols.map((e=>(0,a.Wm)((0,a.up)("el-col"),{span:e.options.span},{default:()=>[(0,a.Wm)($e,{contentType:e.type,selected:T.value.id===e.id,onSelected:()=>n(e),onDelete:()=>d(e.id),onCopy:()=>u(e.id)},{default:()=>[(0,a.Wm)((0,a.up)("nested-draggable"),{tasks:e.list,onActived:n,onCopy:u,onDelete:d},null)]})]}))))?m:{default:()=>[m]})]})]);default:break}};return()=>(0,a.Wm)("div",null,[i(e.config)])}}),el=(0,a.aZ)({name:"nested-draggable",components:{RenderComponent:Qe},emits:["actived","copy","delete"],props:{tasks:{required:!0,type:Array}},setup(e,{emit:l}){const t=(...e)=>{l("actived",...e)},o=(...e)=>{l("copy",...e)},a=(...e)=>{l("delete",...e)};return{onCopy:o,onDelete:a,onActived:t}}});const ll=(0,_.Z)(el,[["render",He],["__scopeId","data-v-1ffa447a"]]);var tl=ll;const ol={class:"ace-container"},al={class:"ace-editor",ref:"ace"};function nl(e,l,t,o,n,d){return(0,a.wg)(),(0,a.iD)("div",ol,[(0,a._)("div",al,null,512)])}var dl=t(17),ul=t.n(dl);t(2137),t(2238),t(1142),t(2060),t(200);const il="https://ks3-cn-beijing.ksyun.com/vform2021/ace-mini";var ml={name:"CodeEditor",props:{modelValue:{type:String},readonly:{type:Boolean,default:!0},mode:{type:String,default:"javascript"},userWorker:{type:Boolean,default:!0}},emits:["update:modelValue"],mounted(){ul().config.set("basePath",il),this.addAutoCompletion(ul()),this.aceEditor=ul().edit(this.$refs.ace,{maxLines:20,minLines:5,fontSize:12,theme:this.themePath,mode:this.modePath,tabSize:2,readOnly:this.readonly,highlightActiveLine:!0,value:this.codeValue}),this.aceEditor.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0})},data(){return{aceEditor:null,themePath:"ace/theme/sqlserver",modePath:"ace/mode/javascript",codeValue:this.modelValue}},methods:{addAutoCompletion(e){let l=[{meta:"VForm API",caption:"getWidgetRef",value:"getWidgetRef()",score:1},{meta:"VForm API",caption:"getFormRef",value:"getFormRef()",score:1}],t=e.require("ace/ext/language_tools");t.addCompleter({getCompletions:function(e,t,o,a,n){return 0===a.length?n(null,[]):n(null,l)}})}}};const rl=(0,_.Z)(ml,[["render",nl],["__scopeId","data-v-8caa11b0"]]);var pl=rl;function sl(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,a.lA)(e)}var cl=(0,a.aZ)({name:"FormTemplate",props:{templateConfig:{type:Object,default:()=>({})},formModel:{type:Object,default:()=>({})}},setup(e){const l=l=>{let t,o,n;const{formModel:d}=e,{type:u}=l;switch(console.log("config",l),u){case"Divider":const e=l.options;return(0,a.Wm)((0,a.up)("el-divider"),{borderStyle:e.borderStyle,contentPosition:e.contentPosition},{default:()=>[e.title]});case"Button":return(0,a.Wm)((0,a.up)("el-button"),{type:l.options.type},{default:()=>[(0,a.Uk)("按钮")]});case"Input":const u=l.options;return d[u.name]=d[u.name]||"",(0,a.Wm)((0,a.up)("el-form-item"),{label:u.label,prop:u.name},{default:()=>[(0,a.Wm)((0,a.up)("el-input"),{type:u.type,size:u.size,disabled:u.disabled,modelValue:d[u.name],"onUpdate:modelValue":e=>d[u.name]=e},null)]});case"Textarea":const i=l.options;return d[i.name]=d[i.name]||"",(0,a.Wm)((0,a.up)("el-form-item"),{label:i.label,prop:i.name},{default:()=>[(0,a.Wm)((0,a.up)("el-input"),{clearable:!0,type:"textarea",resize:i.resize,autosize:i.autosize,size:i.size,disabled:i.disabled,modelValue:d[i.name],"onUpdate:modelValue":e=>d[i.name]=e},null)]});case"InputNumber":const m=l.options;return d[m.name]=d[m.name]||0,(0,a.Wm)((0,a.up)("el-form-item"),{label:m.label,prop:m.name},{default:()=>[(0,a.Wm)((0,a.up)("el-input-number"),{size:m.size,disabled:m.disabled,min:m.min,max:m.max,step:m.step,modelValue:d[m.name],"onUpdate:modelValue":e=>d[m.name]=e},null)]});case"Select":const r=l.options;return d[r.name]=d[r.name]||"",(0,a.Wm)((0,a.up)("el-form-item"),{label:r.label,prop:r.name},{default:()=>[(0,a.Wm)((0,a.up)("el-select"),{type:"textarea",clearable:r.clearable,size:r.size,disabled:r.disabled,modelValue:d[r.name],"onUpdate:modelValue":e=>d[r.name]=e},sl(t=r.optionItems.map((e=>(0,a.Wm)((0,a.up)("el-option"),{key:e.value,label:e.label,value:e.value},null))))?t:{default:()=>[t]})]});case"SelectMultiple":const p=l.options;return d[p.name]=d[p.name]||[],(0,a.Wm)((0,a.up)("el-form-item"),{label:p.label,prop:p.name},{default:()=>[(0,a.Wm)((0,a.up)("el-select"),{multiple:!0,clearable:p.clearable,size:p.size,disabled:p.disabled,modelValue:d[p.name],"onUpdate:modelValue":e=>d[p.name]=e},sl(o=p.optionItems.map((e=>(0,a.Wm)((0,a.up)("el-option"),{key:e.value,label:e.label,value:e.value},null))))?o:{default:()=>[o]})]});case"Link":const s=l.options;return(0,a.Wm)((0,a.up)("el-link"),{target:"_blank",type:s.type,underline:s.underline,href:s.href,disabled:s.disabled},{default:()=>[s.text]});case"DatePicker":const c=l.options;return d[c.name]=d[c.name]||"",(0,a.Wm)((0,a.up)("el-form-item"),{label:c.label,prop:c.name},{default:()=>[(0,a.Wm)((0,a.up)("el-date-picker"),{type:"date",placeholder:"Pick a Date",format:"YYYY-MM-DD",size:c.size,modelValue:d[c.name],"onUpdate:modelValue":e=>d[c.name]=e},null)]});case"DatePickerRange":const f=l.options;return d[f.name]=d[f.name]||[],(0,a.Wm)((0,a.up)("el-form-item"),{label:f.label,prop:f.name},{default:()=>[(0,a.Wm)((0,a.up)("el-date-picker"),{type:"daterange",placeholder:"Pick a Date",format:"YYYY-MM-DD",size:f.size,modelValue:d[f.name],"onUpdate:modelValue":e=>d[f.name]=e},null)]});case"Card":const b=l.options;return(0,a.Wm)((0,a.up)("el-card"),{header:b.header,shadow:b.shadow},{default:()=>[(0,a.Wm)(fl,{usedRenderData:l.list},null)]});case"Grid":return(0,a.Wm)(a.HY,null,[(0,a.Wm)((0,a.up)("el-row"),null,sl(n=l.cols.map((e=>(0,a.Wm)((0,a.up)("el-col"),{span:e.options.span},{default:()=>[(0,a.Wm)(fl,{usedRenderData:e.list},null)]}))))?n:{default:()=>[n]})]);default:break}};return()=>{const{templateConfig:t}=e;return(0,a.Wm)("div",{style:"padding:0 5px;margin-bottom:5px;"},[l(t)])}}}),fl=(0,a.aZ)({name:"render-form",props:{usedRenderData:{type:Array,default:()=>[]},formModel:{type:Object}},setup(e){return()=>{const{usedRenderData:l,formModel:t}=e;return l.map((e=>(0,a.Wm)(cl,{templateConfig:e,formModel:t},null)))}}}),bl=(0,a.aZ)({name:"render-form",props:{usedRenderData:{type:Array,default:()=>[]},formModel:{type:Object},formRules:{type:Object,default:()=>({})},formConfig:{type:Object,default:()=>({})}},setup(e){return()=>{const{usedRenderData:l,formConfig:t,formModel:o,formRules:n}=e;return(0,a.Wm)((0,a.up)("el-form"),(0,a.dG)(t,{rules:n,model:o}),{default:()=>[(0,a.Wm)(fl,{usedRenderData:l,formModel:o},null)]})}}});function vl(e,l,t,o,n,d){const u=(0,a.up)("nested-draggable"),i=(0,a.up)("el-form");return(0,a.wg)(),(0,a.j4)(i,(0,a.dG)({model:e.formModel,rules:e.formRules},e.formConfig,{ref:"templateFormRef"}),{default:(0,a.w5)((()=>[(0,a.Wm)(u,{tasks:e.usedRenderData,onActived:e.onActived,onCopy:e.onCopy,onDelete:e.onDelete},null,8,["tasks","onActived","onCopy","onDelete"])])),_:1},16,["model","rules"])}var gl=(0,a.aZ)({name:"form-current",props:{formModel:{type:Object,default:()=>({})},formRules:{type:Object,default:()=>({})},formConfig:{type:Object,default:()=>({})},usedRenderData:{type:Array,default:()=>[]}},setup(e,{emit:l}){const t=(...e)=>{l("actived",...e)},o=(...e)=>{l("copy",...e)},a=(...e)=>{l("delete",...e)};return{templateFormRef:x,onActived:t,onCopy:o,onDelete:a}}});const Wl=(0,_.Z)(gl,[["render",vl]]);var yl=Wl;const hl={class:"form-design-warper"};function Vl(e,l,t,o,n,d){const u=(0,a.up)("design-side"),i=(0,a.up)("design-content"),m=(0,a.up)("design-setting");return(0,a.wg)(),(0,a.iD)("div",hl,[(0,a.Wm)(u),(0,a.Wm)(i,{usedRenderData:e.usedRenderData,formModel:e.formModel,formConfig:e.formConfig},null,8,["usedRenderData","formModel","formConfig"]),(0,a.Wm)(m)])}var Ol=(0,a.aZ)({name:"form-design",props:{formModel:{type:Object,default:()=>({})},formConfig:{type:Object,default:()=>({})},usedRenderData:{type:Array,default:()=>[]}},setup(e){(0,a.JJ)(be,{formModel:e.formModel,formConfig:e.formConfig})}});const wl=(0,_.Z)(Ol,[["render",Vl]]);var Dl=wl;const Cl=[$,re,Ne,tl,pl,bl,yl,Dl];var kl={install(e){Cl.forEach((l=>{e.component(l.name,l)}))}},Ul=t(6983),zl=t.n(Ul);const Sl=(0,o.ri)(i);Sl.component("draggable",zl()),Sl.use(kl).use(m.Z).mount("#app")}},l={};function t(o){var a=l[o];if(void 0!==a)return a.exports;var n=l[o]={id:o,loaded:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}t.m=e,function(){t.amdD=function(){throw new Error("define cannot be used indirect")}}(),function(){var e=[];t.O=function(l,o,a,n){if(!o){var d=1/0;for(r=0;r<e.length;r++){o=e[r][0],a=e[r][1],n=e[r][2];for(var u=!0,i=0;i<o.length;i++)(!1&n||d>=n)&&Object.keys(t.O).every((function(e){return t.O[e](o[i])}))?o.splice(i--,1):(u=!1,n<d&&(d=n));if(u){e.splice(r--,1);var m=a();void 0!==m&&(l=m)}}return l}n=n||0;for(var r=e.length;r>0&&e[r-1][2]>n;r--)e[r]=e[r-1];e[r]=[o,a,n]}}(),function(){t.n=function(e){var l=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(l,{a:l}),l}}(),function(){t.d=function(e,l){for(var o in l)t.o(l,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:l[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};t.O.j=function(l){return 0===e[l]};var l=function(l,o){var a,n,d=o[0],u=o[1],i=o[2],m=0;if(d.some((function(l){return 0!==e[l]}))){for(a in u)t.o(u,a)&&(t.m[a]=u[a]);if(i)var r=i(t)}for(l&&l(o);m<d.length;m++)n=d[m],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(r)},o=self["webpackChunkv3_form_design"]=self["webpackChunkv3_form_design"]||[];o.forEach(l.bind(null,0)),o.push=l.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(555)}));o=t.O(o)})();
//# sourceMappingURL=app.57d23810.js.map